<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
	<!-- 모바일 브라우저 화면크기(viewport)를 장치의 크기에 맞추고, 처음에 열었을때의 화면비율, 확대축소, user-scalable=no는 확대축소를 못하게 막아 놓은건데, 아이폰에서는 확대축소 됨(맥시멈을 지정해놓지 않으면 디바이스가 허락하는데까지 확대가 됨.)  viewport-fit=cover 아이폰에서 노치영역까지 뷰포트 확장시킴(사용금지)-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=1.0, viewport-fit=cover">
    <meta name="description" content="신선하고 건강한 글로벌 NO.1 샌드위치 브랜드, 써브웨이">
    <meta property="og:type" content="website">
    <meta property="og:title" content="써브웨이">
    <meta property="og:url" content="http://ossamuiux.com/study/mSubway/">
    <meta property="og:image" content="http://ossamuiux.com/study/mSubway/images/subway_og.png">
    <meta property="og:description" content="신선하고 건강한 글로벌 NO.1 샌드위치 브랜드, 써브웨이">
    <title>SUBWAY - 매장찾기</title>
	<!-- ios용 홈화면 등록 아이콘 -->
	<link rel="apple-touch-icon-precomposed" href="touch_icon.png">
	<!-- 안드로이드 홈 화면등록 아이콘, pc파비콘 -->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?v=1">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/jquery-ui.min.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/common.css?v=<?php echo time(); ?>">
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/swiper.min.js"></script>
	<!-- 카카오 지도에는 프로토콜이 없음, 따로 붙여줘야 함-->
	<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=5edc02438d34f0bda36b8ca2ceb5b625"></script>
</head>
<body>
	<div id="skipNavi">
        <a href="#container">본문바로가기</a>
    </div>
    <div id="wrap">
		<header id="header" class="sub_header">
			<!-- 자바스크립트 return false는 기본이벤트 막기 e.preventDefault;-->
			<a class="btn_back" href="#" onclick="history.go(-1); return false;">이전 페이지로 가기</a>
			<h2 class="sub_tit">써브웨이</h2>
			<!-- 햄버거메뉴를 눌렀을 때 햄버거모양이 x로 변경된다면 button -->
			<button class="btn_menu" type="button">메뉴열기</button>
			<!-- on을 미리 걸어놓으면 on이 걸려있는 상태로 계속 확인가능 -->
			<nav class="gnb_wrap">
				<div class="top_gnb">
					<h2>Eat fresh<br><em>Enjoy Subway</em></h2>
					<button class="btn_close" type="button">메뉴 닫기</button>
				</div>
				<!-- 스크롤바를 생기게 하기 위해 한번 더 감쌈 -->
				<div class="bottom_gnb">
					<ul class="gnb">
						<li>
							<a href="#"><span class="icon"></span>메뉴소개</a>
							<ul class="depth2">
								<li><a href="index.html">샌드위치</a></li>
								<li><a href="index.html">랩</a></li>
								<li><a href="index.html">샌드위치</a></li>
								<li><a href="index.html">랩</a></li>
								<li><a href="index.html">샌드위치</a></li>
							</ul>
						</li>
						<li>
							<a href="#"><span class="icon"></span>이용방법</a>
							<ul class="depth2">
								<li><a href="index.html">써브웨이 이용방법</a></li>
								<li><a href="index.html">써브웨이 이용방법</a></li>
								<li><a href="index.html">써브웨이 이용방법</a></li>
							</ul>
						</li>
						<li>
							<a href="#"><span class="icon"></span>새소식</a>
							<ul class="depth2">
								<li><a href="index.html">이벤트ㆍ프로모션</a></li>
								<li><a href="index.html">이벤트ㆍ프로모션</a></li>
								<li><a href="index.html">광고영상</a></li>
							</ul>
						</li>
						<li>
							<a href="#"><span class="icon"></span>써브웨이</a>
							<ul class="depth2">
								<li><a href="index.html">써브웨이 역사</a></li>
								<li><a href="index.html">써브웨이 약속</a></li>
								<li><a href="store_search.html">매장찾기</a></li>
							</ul>
						</li>
						<li>
							<a href="#"><span class="icon"></span>가맹점</a>
							<ul class="depth2">
								<li><a href="franchise.html">써브웨이 프랜차이즈</a></li>
								<li><a href="franchise.html">써브웨이 프랜차이즈</a></li>
								<li><a href="franchise.html">써브웨이 프랜차이즈</a></li>
								<li><a href="franchise.html">사업설명회(대표번호 02-797-5036)</a></li>
							</ul>
						</li>
						<li>
							<a href="#"><span class="icon"></span>고객센터</a>
							<ul class="depth2">
								<li><a href="index.html">FAQ</a></li>
								<li><a href="index.html">1:1문의</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</nav>
			<div class="gnb_bg"></div>
		</header>
		<div id="container" class="store_search_page">
			<div class="lnb">
				<button class="btn_lnb" type="button">매장찾기</button>
				<ul class="list_lnb">
					<li><a href="#">써브웨이 역사</a></li>
					<li><a href="#">써브웨이 약속</a></li>
					<li class="on"><a href="#">매장찾기</a></li>
				</ul>
			</div>
			<div class="contents">
				<div class="store_map">
					<div id="map">

					</div>
				</div>
			</div>
		</div>
		<footer id="footer">
			<div class="top_footer">
				<ul class="list_menu">
					<li><a href="#">이용약관</a></li>
					<li><a href="#"><em>개인정보취급방침</em></a></li>
					<li><a href="#">Subway Listens</a></li>
					<li><a href="#">PC버전</a></li>
				</ul>
			</div>
			<div class="sns">
				<a href="#"><img src="images/icon_f_sns_ig.png" alt="인스타그램"></a>
				<a href="#"><img src="images/icon_f_sns_fb.png" alt="페이스북"></a>
			</div>
			<p class="address">
				서울시 서초구 강남대로 535 프린스빌딩 15층<br>
				대표 : 콜린클락<span></span>전화 : 02-797-5036<br>
				사업자등록번호 : 101-84-04143
			</p>
			<p class="copy">SUBWAY® is a Registered Trademark of Subway IP LLC. © 2019<br>Subway IP LLC. All Rights Reserved.</p>
		</footer>
	</div>
    <script src="js/main.js?v=<?php echo time(); ?>"></script>
	<script>
		function kakaoMap() {
			// 37.566669, 126.978353 서울특별시청 좌표
		var mapContainer = document.getElementById('map'); // 지도를 표시할 div 
    	var mapOption = { 
        center: new kakao.maps.LatLng(37.566669, 126.978353), // 지도의 중심좌표
        level: 3 // 지도의 확대 레벨
        };

        var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

        // 마커를 표시할 위치입니다
        var position = new kakao.maps.LatLng(37.566669, 126.978353);

        // 마커를 생성합니다
        var marker = new kakao.maps.Marker({
        	position: position,
        	clickable: true // 마커를 클릭했을 때 지도의 클릭 이벤트가 발생하지 않도록 설정합니다
        });

        // 아래 코드는 위의 마커를 생성하는 코드에서 clickable: true 와 같이
        // 마커를 클릭했을 때 지도의 클릭 이벤트가 발생하지 않도록 설정합니다
        // marker.setClickable(true);

        // 마커를 지도에 표시합니다.
        marker.setMap(map);

        // 마커를 클릭했을 때 마커 위에 표시할 인포윈도우를 생성합니다
        var iwContent = '<div style="padding:5px;">Hello World! <br><a href="https://map.kakao.com/link/map/Hello World!,33.450701,126.570667" style="color:blue" target="_blank">큰지도보기</a> <a href="https://map.kakao.com/link/to/Hello World!,33.450701,126.570667" style="color:blue" target="_blank">길찾기</a></div>';
		var mapContainer = document.getElementById('map'); // 지도의 중심좌표
    	var mapOption = { 
        center: new kakao.maps.LatLng(37.566669, 126.978353), // 지도의 중심좌표
        level: 3 // 지도의 확대 레벨
    }; 

		var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

		// 지도에 마커를 표시합니다 
		var marker = new kakao.maps.Marker({
		    map: map, 
		    position: new kakao.maps.LatLng(37.566669, 126.978353)
		});

		// 커스텀 오버레이에 표시할 컨텐츠 입니다
		// 커스텀 오버레이는 아래와 같이 사용자가 자유롭게 컨텐츠를 구성하고 이벤트를 		제어할 수 있기 때문에
		// 별도의 이벤트 메소드를 제공하지 않습니다 
		var content = '<div class="info">' +
							'<div class="info_inner">' +
								'<h3>서울특별시청</h3>' +
								'<p>서울특별시 중구 명동 35<br>연락처: 02-725-5926<br> 영업시간: 0730 ~ 21:30</p>' +
								'<button type="button" class="btn_close" onclick="closeOverlay();">닫기</button>' +
								'</div>'
						'</div>'; 

			// 마커 위에 커스텀오버레이를 표시합니다
			// 마커를 중심으로 커스텀 오버레이를 표시하기위해 CSS를 이용해위치를 설정했습니다
			var overlay = new kakao.maps.CustomOverlay({
				content: content,
				map: map,
				position: marker.getPosition()       
			});

			// 커스텀 오버레이 띄우기
			overlay.setMap(map);
			// 마커를 클릭했을 때 커스텀 오버레이를 표시합니다
			kakao.maps.event.addListener(marker, 'click', function() {
				overlay.setMap(map);
			});

			
			// 커스텀 오버레이를 닫기 위해 호출되는 함수입니다 
			function closeOverlay() {
				overlay.setMap(null);     
			};

			// 안쪽에 있는 내부함수는 밖에서 부를 수 없다, 동일 스코프(카카오 맵) 함수 안에서는 동일 영역에서 호출 할 수 있음,
			// 즉, closeOverlay는 내부함수이므로 외부에서 호출 불가하며 동일 스코프인 kakaoMap함수안에서는 호출이 가능함 
			document.querySelector('#map .info .btn_close').addEventListener('click', function() {
				closeOverlay();
			});
		}
		kakaoMap();
	</script>
</body>
</html>